From 0682a6587a3e34b5f4b730779a5cc94b99457bbb Mon Sep 17 00:00:00 2001
From: "H.J. Lu" <hjl.tools@gmail.com>
Date: Tue, 14 Apr 2020 10:58:50 -0700
Subject: [PATCH 2/7] Enable CONFIG_X86_SHADOW_STACK and CONFIG_X86_IBT

---
 kernel-x86_64-debug-fedora.config | 2 ++
 kernel-x86_64-fedora.config       | 2 ++
 2 files changed, 4 insertions(+)

diff --git a/kernel-x86_64-debug-fedora.config b/kernel-x86_64-debug-fedora.config
index 8c5df0d34..a65df9c21 100644
--- a/kernel-x86_64-debug-fedora.config
+++ b/kernel-x86_64-debug-fedora.config
@@ -7551,6 +7551,8 @@ CONFIG_X86_UV=y
 # CONFIG_X86_VSMP is not set
 CONFIG_X86_X2APIC=y
 CONFIG_X86_X32=y
+CONFIG_X86_SHADOW_STACK=y
+CONFIG_X86_IBT=y
 CONFIG_XDP_SOCKETS_DIAG=m
 CONFIG_XDP_SOCKETS=y
 CONFIG_XEN_512GB=y
diff --git a/kernel-x86_64-fedora.config b/kernel-x86_64-fedora.config
index d89656586..5ac14f243 100644
--- a/kernel-x86_64-fedora.config
+++ b/kernel-x86_64-fedora.config
@@ -7526,6 +7526,8 @@ CONFIG_X86_UV=y
 # CONFIG_X86_VSMP is not set
 CONFIG_X86_X2APIC=y
 CONFIG_X86_X32=y
+CONFIG_X86_SHADOW_STACK=y
+CONFIG_X86_IBT=y
 CONFIG_XDP_SOCKETS_DIAG=m
 CONFIG_XDP_SOCKETS=y
 CONFIG_XEN_512GB=y
-- 
2.31.1

