From 035f4016caea3130cd4c4d3a21305b7a045c44d3 Mon Sep 17 00:00:00 2001
From: "H.J. Lu" <hjl.tools@gmail.com>
Date: Tue, 23 Jun 2020 09:40:49 -0700
Subject: [PATCH] Update binutils-s390-build.patch against master branch

---
 binutils-s390-build.patch | 613 --------------------------------------
 1 file changed, 613 deletions(-)

diff --git a/binutils-s390-build.patch b/binutils-s390-build.patch
index ea5cd49..5a11748 100644
--- a/binutils-s390-build.patch
+++ b/binutils-s390-build.patch
@@ -128,18 +128,6 @@ diff -rup binutils.orig/libctf/ctf-create.c binutils-2.34.0/libctf/ctf-create.c
  
    if (flag != CTF_ADD_NONROOT && flag != CTF_ADD_ROOT)
      return (ctf_set_errno (fp, EINVAL));
-diff -rup binutils.orig/opcodes/arc-dis.c binutils-2.34.0/opcodes/arc-dis.c
---- binutils.orig/opcodes/arc-dis.c	2020-06-16 14:49:06.077801330 +0100
-+++ binutils-2.34.0/opcodes/arc-dis.c	2020-06-16 15:34:37.985624520 +0100
-@@ -420,7 +420,7 @@ find_format (bfd_vma
-              struct arc_operand_iterator * iter)
- {
-   const struct arc_opcode *opcode = NULL;
--  bfd_boolean needs_limm;
-+  bfd_boolean needs_limm = FALSE;
-   const extInstruction_t *einsn, *i;
-   unsigned limm = 0;
-   struct arc_disassemble_info *arc_infop = info->private_data;
 diff -rup binutils.orig/opcodes/fr30-ibld.c binutils-2.34.0/opcodes/fr30-ibld.c
 --- binutils.orig/opcodes/fr30-ibld.c	2020-06-16 14:49:06.074801341 +0100
 +++ binutils-2.34.0/opcodes/fr30-ibld.c	2020-06-16 16:43:31.428324833 +0100
@@ -237,604 +225,3 @@ diff -rup binutils.orig/opcodes/fr30-ibld.c binutils-2.34.0/opcodes/fr30-ibld.c
          length = extract_normal (cd, ex_info, insn_value, 0|(1<<CGEN_IFLD_SIGNED), 0, 8, 8, 16, total_length, pc, & value);
          value = ((value) * (4));
          fields->f_s10 = value;
-Only in binutils-2.34.0/opcodes: fr30-ibld.c~
---- binutils.orig/opcodes/m32c-ibld.c	2020-06-16 17:10:22.531563472 +0100
-+++ binutils-2.34.0/opcodes/m32c-ibld.c	2020-06-16 17:25:48.612258094 +0100
-@@ -1805,7 +1805,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_BIT32RNPREFIXED :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0, 0, 16, 2, 32, total_length, pc, & value);
-         value = (((((~ (((USI) (value) >> (1))))) & (1))) | (((((value) << (1))) & (2))));
-         fields->f_dst32_rn_prefixed_QI = value;
-@@ -1813,7 +1813,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_BIT32RNUNPREFIXED :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0, 0, 8, 2, 32, total_length, pc, & value);
-         value = (((((~ (((USI) (value) >> (1))))) & (1))) | (((((value) << (1))) & (2))));
-         fields->f_dst32_rn_unprefixed_QI = value;
-@@ -1824,7 +1824,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_BITBASE16_16_U16 :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0, 0, 16, 16, 32, total_length, pc, & value);
-         value = ((((((UHI) (value) >> (8))) & (255))) | (((((value) & (255))) << (8))));
-         fields->f_dsp_16_u16 = value;
-@@ -1860,7 +1860,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-         length = extract_normal (cd, ex_info, insn_value, 0, 0, 13, 3, 32, total_length, pc, & fields->f_bitno32_unprefixed);
-         if (length <= 0) break;
-         {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0|(1<<CGEN_IFLD_SIGNED), 0, 16, 16, 32, total_length, pc, & value);
-         value = EXTHISI (((HI) (INT) (((((((UINT) (value) >> (8))) & (255))) | (((((value) & (255))) << (8)))))));
-         fields->f_dsp_16_s16 = value;
-@@ -1887,7 +1887,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-         length = extract_normal (cd, ex_info, insn_value, 0, 0, 13, 3, 32, total_length, pc, & fields->f_bitno32_unprefixed);
-         if (length <= 0) break;
-         {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0, 0, 16, 16, 32, total_length, pc, & value);
-         value = ((((((UHI) (value) >> (8))) & (255))) | (((((value) & (255))) << (8))));
-         fields->f_dsp_16_u16 = value;
-@@ -1903,7 +1903,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-         length = extract_normal (cd, ex_info, insn_value, 0, 0, 13, 3, 32, total_length, pc, & fields->f_bitno32_unprefixed);
-         if (length <= 0) break;
-         {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0, 0, 16, 16, 32, total_length, pc, & value);
-         value = ((((((UHI) (value) >> (8))) & (255))) | (((((value) & (255))) << (8))));
-         fields->f_dsp_16_u16 = value;
-@@ -1971,7 +1971,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-         length = extract_normal (cd, ex_info, insn_value, 0, 0, 24, 8, 32, total_length, pc, & fields->f_dsp_24_u8);
-         if (length <= 0) break;
-         {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0, 32, 0, 16, 32, total_length, pc, & value);
-         value = ((((((UHI) (value) >> (8))) & (255))) | (((((value) & (255))) << (8))));
-         fields->f_dsp_32_u16 = value;
-@@ -1996,7 +1996,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_DSP_16_S16 :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0|(1<<CGEN_IFLD_SIGNED), 0, 16, 16, 32, total_length, pc, & value);
-         value = EXTHISI (((HI) (INT) (((((((UINT) (value) >> (8))) & (255))) | (((((value) & (255))) << (8)))))));
-         fields->f_dsp_16_s16 = value;
-@@ -2007,7 +2007,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_DSP_16_U16 :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0, 0, 16, 16, 32, total_length, pc, & value);
-         value = ((((((UHI) (value) >> (8))) & (255))) | (((((value) & (255))) << (8))));
-         fields->f_dsp_16_u16 = value;
-@@ -2016,7 +2016,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-     case M32C_OPERAND_DSP_16_U20 :
-       {
-         {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0, 0, 16, 16, 32, total_length, pc, & value);
-         value = ((((((UHI) (value) >> (8))) & (255))) | (((((value) & (255))) << (8))));
-         fields->f_dsp_16_u16 = value;
-@@ -2032,7 +2032,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-     case M32C_OPERAND_DSP_16_U24 :
-       {
-         {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0, 0, 16, 16, 32, total_length, pc, & value);
-         value = ((((((UHI) (value) >> (8))) & (255))) | (((((value) & (255))) << (8))));
-         fields->f_dsp_16_u16 = value;
-@@ -2078,7 +2078,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-         length = extract_normal (cd, ex_info, insn_value, 0, 0, 24, 8, 32, total_length, pc, & fields->f_dsp_24_u8);
-         if (length <= 0) break;
-         {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0, 32, 0, 16, 32, total_length, pc, & value);
-         value = ((((((UHI) (value) >> (8))) & (255))) | (((((value) & (255))) << (8))));
-         fields->f_dsp_32_u16 = value;
-@@ -2094,7 +2094,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-         length = extract_normal (cd, ex_info, insn_value, 0, 0, 24, 8, 32, total_length, pc, & fields->f_dsp_24_u8);
-         if (length <= 0) break;
-         {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0, 32, 0, 16, 32, total_length, pc, & value);
-         value = ((((((UHI) (value) >> (8))) & (255))) | (((((value) & (255))) << (8))));
-         fields->f_dsp_32_u16 = value;
-@@ -2110,7 +2110,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_DSP_32_S16 :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0|(1<<CGEN_IFLD_SIGNED), 32, 0, 16, 32, total_length, pc, & value);
-         value = EXTHISI (((HI) (INT) (((((((UINT) (value) >> (8))) & (255))) | (((((value) & (255))) << (8)))))));
-         fields->f_dsp_32_s16 = value;
-@@ -2121,7 +2121,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_DSP_32_U16 :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0, 32, 0, 16, 32, total_length, pc, & value);
-         value = ((((((UHI) (value) >> (8))) & (255))) | (((((value) & (255))) << (8))));
-         fields->f_dsp_32_u16 = value;
-@@ -2129,7 +2129,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_DSP_32_U20 :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0, 32, 0, 24, 32, total_length, pc, & value);
-         value = ((((((((USI) (value) >> (16))) & (255))) | (((value) & (65280))))) | (((((value) << (16))) & (16711680))));
-         fields->f_dsp_32_u24 = value;
-@@ -2137,7 +2137,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_DSP_32_U24 :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0, 32, 0, 24, 32, total_length, pc, & value);
-         value = ((((((((USI) (value) >> (16))) & (255))) | (((value) & (65280))))) | (((((value) << (16))) & (16711680))));
-         fields->f_dsp_32_u24 = value;
-@@ -2148,7 +2148,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_DSP_40_S16 :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0|(1<<CGEN_IFLD_SIGNED), 32, 8, 16, 32, total_length, pc, & value);
-         value = EXTHISI (((HI) (INT) (((((((UINT) (value) >> (8))) & (255))) | (((((value) & (255))) << (8)))))));
-         fields->f_dsp_40_s16 = value;
-@@ -2159,7 +2159,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_DSP_40_U16 :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0, 32, 8, 16, 32, total_length, pc, & value);
-         value = ((((((UHI) (value) >> (8))) & (255))) | (((((value) & (255))) << (8))));
-         fields->f_dsp_40_u16 = value;
-@@ -2167,7 +2167,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_DSP_40_U20 :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0, 32, 8, 20, 32, total_length, pc, & value);
-         value = ((((((((USI) (value) >> (16))) & (255))) | (((value) & (65280))))) | (((((value) << (16))) & (983040))));
-         fields->f_dsp_40_u20 = value;
-@@ -2175,7 +2175,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_DSP_40_U24 :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0, 32, 8, 24, 32, total_length, pc, & value);
-         value = ((((((((USI) (value) >> (16))) & (255))) | (((value) & (65280))))) | (((((value) << (16))) & (16711680))));
-         fields->f_dsp_40_u24 = value;
-@@ -2186,7 +2186,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_DSP_48_S16 :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0|(1<<CGEN_IFLD_SIGNED), 32, 16, 16, 32, total_length, pc, & value);
-         value = EXTHISI (((HI) (INT) (((((((UINT) (value) >> (8))) & (255))) | (((((value) & (255))) << (8)))))));
-         fields->f_dsp_48_s16 = value;
-@@ -2197,7 +2197,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_DSP_48_U16 :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0, 32, 16, 16, 32, total_length, pc, & value);
-         value = ((((((UHI) (value) >> (8))) & (255))) | (((((value) & (255))) << (8))));
-         fields->f_dsp_48_u16 = value;
-@@ -2206,7 +2206,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-     case M32C_OPERAND_DSP_48_U20 :
-       {
-         {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0, 32, 16, 16, 32, total_length, pc, & value);
-         value = ((((((UHI) (value) >> (8))) & (255))) | (((((value) & (255))) << (8))));
-         fields->f_dsp_48_u16 = value;
-@@ -2222,7 +2222,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-     case M32C_OPERAND_DSP_48_U24 :
-       {
-         {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0, 32, 16, 16, 32, total_length, pc, & value);
-         value = ((((((UHI) (value) >> (8))) & (255))) | (((((value) & (255))) << (8))));
-         fields->f_dsp_48_u16 = value;
-@@ -2240,7 +2240,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_DSP_8_S24 :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0|(1<<CGEN_IFLD_SIGNED), 0, 8, 24, 32, total_length, pc, & value);
-         value = ((((((((((((USI) (value) >> (16))) & (255))) | (((value) & (65280))))) | (((((value) & (255))) << (16))))) ^ (8388608))) - (8388608));
-         fields->f_dsp_8_s24 = value;
-@@ -2251,7 +2251,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_DSP_8_U16 :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0, 0, 8, 16, 32, total_length, pc, & value);
-         value = ((((((UHI) (value) >> (8))) & (255))) | (((((value) & (255))) << (8))));
-         fields->f_dsp_8_u16 = value;
-@@ -2259,7 +2259,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_DSP_8_U24 :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0, 0, 8, 24, 32, total_length, pc, & value);
-         value = ((((((USI) (value) >> (16))) | (((value) & (65280))))) | (((((value) & (255))) << (16))));
-         fields->f_dsp_8_u24 = value;
-@@ -2343,7 +2343,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_DST32RNPREFIXEDHI :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0, 0, 16, 2, 32, total_length, pc, & value);
-         value = ((((value) + (2))) % (4));
-         fields->f_dst32_rn_prefixed_HI = value;
-@@ -2351,7 +2351,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_DST32RNPREFIXEDQI :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0, 0, 16, 2, 32, total_length, pc, & value);
-         value = (((((~ (((USI) (value) >> (1))))) & (1))) | (((((value) << (1))) & (2))));
-         fields->f_dst32_rn_prefixed_QI = value;
-@@ -2359,7 +2359,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_DST32RNPREFIXEDSI :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0, 0, 16, 2, 32, total_length, pc, & value);
-         value = ((value) - (2));
-         fields->f_dst32_rn_prefixed_SI = value;
-@@ -2367,7 +2367,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_DST32RNUNPREFIXEDHI :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0, 0, 8, 2, 32, total_length, pc, & value);
-         value = ((((value) + (2))) % (4));
-         fields->f_dst32_rn_unprefixed_HI = value;
-@@ -2375,7 +2375,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_DST32RNUNPREFIXEDQI :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0, 0, 8, 2, 32, total_length, pc, & value);
-         value = (((((~ (((USI) (value) >> (1))))) & (1))) | (((((value) << (1))) & (2))));
-         fields->f_dst32_rn_unprefixed_QI = value;
-@@ -2383,7 +2383,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_DST32RNUNPREFIXEDSI :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0, 0, 8, 2, 32, total_length, pc, & value);
-         value = ((value) - (2));
-         fields->f_dst32_rn_unprefixed_SI = value;
-@@ -2402,7 +2402,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_IMM_16_HI :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0|(1<<CGEN_IFLD_SIGNED), 0, 16, 16, 32, total_length, pc, & value);
-         value = EXTHISI (((HI) (INT) (((((((UINT) (value) >> (8))) & (255))) | (((((value) & (255))) << (8)))))));
-         fields->f_dsp_16_s16 = value;
-@@ -2414,14 +2414,14 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-     case M32C_OPERAND_IMM_16_SI :
-       {
-         {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0, 0, 16, 16, 32, total_length, pc, & value);
-         value = ((((((UHI) (value) >> (8))) & (255))) | (((((value) & (255))) << (8))));
-         fields->f_dsp_16_u16 = value;
-       }
-         if (length <= 0) break;
-         {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0, 32, 0, 16, 32, total_length, pc, & value);
-         value = ((((((UHI) (value) >> (8))) & (255))) | (((((value) & (255))) << (8))));
-         fields->f_dsp_32_u16 = value;
-@@ -2454,7 +2454,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-         length = extract_normal (cd, ex_info, insn_value, 0, 0, 24, 8, 32, total_length, pc, & fields->f_dsp_24_u8);
-         if (length <= 0) break;
-         {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0, 32, 0, 24, 32, total_length, pc, & value);
-         value = ((((((((USI) (value) >> (16))) & (255))) | (((value) & (65280))))) | (((((value) << (16))) & (16711680))));
-         fields->f_dsp_32_u24 = value;
-@@ -2467,7 +2467,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_IMM_32_HI :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0|(1<<CGEN_IFLD_SIGNED), 32, 0, 16, 32, total_length, pc, & value);
-         value = EXTHISI (((HI) (INT) (((((((UINT) (value) >> (8))) & (255))) | (((((value) & (255))) << (8)))))));
-         fields->f_dsp_32_s16 = value;
-@@ -2478,7 +2478,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_IMM_32_SI :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0|(1<<CGEN_IFLD_SIGNED), 32, 0, 32, 32, total_length, pc, & value);
-         value = EXTSISI (((((((((UINT) (value) >> (24))) & (255))) | (((((UINT) (value) >> (8))) & (65280))))) | (((((((value) << (8))) & (16711680))) | (((((value) << (24))) & (0xff000000)))))));
-         fields->f_dsp_32_s32 = value;
-@@ -2486,7 +2486,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_IMM_40_HI :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0|(1<<CGEN_IFLD_SIGNED), 32, 8, 16, 32, total_length, pc, & value);
-         value = EXTHISI (((HI) (INT) (((((((UINT) (value) >> (8))) & (255))) | (((((value) & (255))) << (8)))))));
-         fields->f_dsp_40_s16 = value;
-@@ -2498,7 +2498,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-     case M32C_OPERAND_IMM_40_SI :
-       {
-         {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0, 32, 8, 24, 32, total_length, pc, & value);
-         value = ((((((((USI) (value) >> (16))) & (255))) | (((value) & (65280))))) | (((((value) << (16))) & (16711680))));
-         fields->f_dsp_40_u24 = value;
-@@ -2513,7 +2513,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_IMM_48_HI :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0|(1<<CGEN_IFLD_SIGNED), 32, 16, 16, 32, total_length, pc, & value);
-         value = EXTHISI (((HI) (INT) (((((((UINT) (value) >> (8))) & (255))) | (((((value) & (255))) << (8)))))));
-         fields->f_dsp_48_s16 = value;
-@@ -2525,14 +2525,14 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-     case M32C_OPERAND_IMM_48_SI :
-       {
-         {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0, 32, 16, 16, 32, total_length, pc, & value);
-         value = ((((((UHI) (value) >> (8))) & (255))) | (((((value) & (255))) << (8))));
-         fields->f_dsp_48_u16 = value;
-       }
-         if (length <= 0) break;
-         {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0, 64, 0, 16, 32, total_length, pc, & value);
-         value = ((((((UHI) (value) >> (8))) & (255))) | (((((value) & (255))) << (8))));
-         fields->f_dsp_64_u16 = value;
-@@ -2559,7 +2559,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_IMM_64_HI :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0|(1<<CGEN_IFLD_SIGNED), 64, 0, 16, 32, total_length, pc, & value);
-         value = EXTHISI (((HI) (INT) (((((((UINT) (value) >> (8))) & (255))) | (((((value) << (8))) & (65280)))))));
-         fields->f_dsp_64_s16 = value;
-@@ -2567,7 +2567,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_IMM_8_HI :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0|(1<<CGEN_IFLD_SIGNED), 0, 8, 16, 32, total_length, pc, & value);
-         value = EXTHISI (((HI) (INT) (((((((UINT) (value) >> (8))) & (255))) | (((((value) & (255))) << (8)))))));
-         fields->f_dsp_8_s16 = value;
-@@ -2593,7 +2593,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_IMM1_S :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0, 0, 2, 1, 32, total_length, pc, & value);
-         value = ((value) + (1));
-         fields->f_imm1_S = value;
-@@ -2612,7 +2612,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_LAB_16_8 :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0|(1<<CGEN_IFLD_SIGNED)|(1<<CGEN_IFLD_PCREL_ADDR), 0, 16, 8, 32, total_length, pc, & value);
-         value = ((value) + (((pc) + (2))));
-         fields->f_lab_16_8 = value;
-@@ -2620,7 +2620,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_LAB_24_8 :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0|(1<<CGEN_IFLD_SIGNED)|(1<<CGEN_IFLD_PCREL_ADDR), 0, 24, 8, 32, total_length, pc, & value);
-         value = ((value) + (((pc) + (2))));
-         fields->f_lab_24_8 = value;
-@@ -2628,7 +2628,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_LAB_32_8 :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0|(1<<CGEN_IFLD_SIGNED)|(1<<CGEN_IFLD_PCREL_ADDR), 32, 0, 8, 32, total_length, pc, & value);
-         value = ((value) + (((pc) + (2))));
-         fields->f_lab_32_8 = value;
-@@ -2636,7 +2636,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_LAB_40_8 :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0|(1<<CGEN_IFLD_SIGNED)|(1<<CGEN_IFLD_PCREL_ADDR), 32, 8, 8, 32, total_length, pc, & value);
-         value = ((value) + (((pc) + (2))));
-         fields->f_lab_40_8 = value;
-@@ -2644,7 +2644,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_LAB_5_3 :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0|(1<<CGEN_IFLD_PCREL_ADDR), 0, 5, 3, 32, total_length, pc, & value);
-         value = ((value) + (((pc) + (2))));
-         fields->f_lab_5_3 = value;
-@@ -2652,7 +2652,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_LAB_8_16 :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0|(1<<CGEN_IFLD_SIGN_OPT)|(1<<CGEN_IFLD_PCREL_ADDR), 0, 8, 16, 32, total_length, pc, & value);
-         value = ((((((((((USI) (((value) & (65280))) >> (8))) | (((((value) & (255))) << (8))))) ^ (32768))) - (32768))) + (((pc) + (1))));
-         fields->f_lab_8_16 = value;
-@@ -2660,7 +2660,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_LAB_8_24 :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0|(1<<CGEN_IFLD_ABS_ADDR), 0, 8, 24, 32, total_length, pc, & value);
-         value = ((((((USI) (value) >> (16))) | (((value) & (65280))))) | (((((value) & (255))) << (16))));
-         fields->f_lab_8_24 = value;
-@@ -2668,7 +2668,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_LAB_8_8 :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0|(1<<CGEN_IFLD_SIGNED)|(1<<CGEN_IFLD_PCREL_ADDR), 0, 8, 8, 32, total_length, pc, & value);
-         value = ((value) + (((pc) + (1))));
-         fields->f_lab_8_8 = value;
-@@ -2757,7 +2757,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_SRC32RNPREFIXEDHI :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0, 0, 18, 2, 32, total_length, pc, & value);
-         value = ((((value) + (2))) % (4));
-         fields->f_src32_rn_prefixed_HI = value;
-@@ -2765,7 +2765,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_SRC32RNPREFIXEDQI :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0, 0, 18, 2, 32, total_length, pc, & value);
-         value = (((((~ (((USI) (value) >> (1))))) & (1))) | (((((value) << (1))) & (2))));
-         fields->f_src32_rn_prefixed_QI = value;
-@@ -2773,7 +2773,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_SRC32RNPREFIXEDSI :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0, 0, 18, 2, 32, total_length, pc, & value);
-         value = ((value) - (2));
-         fields->f_src32_rn_prefixed_SI = value;
-@@ -2781,7 +2781,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_SRC32RNUNPREFIXEDHI :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0, 0, 10, 2, 32, total_length, pc, & value);
-         value = ((((value) + (2))) % (4));
-         fields->f_src32_rn_unprefixed_HI = value;
-@@ -2789,7 +2789,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_SRC32RNUNPREFIXEDQI :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0, 0, 10, 2, 32, total_length, pc, & value);
-         value = (((((~ (((USI) (value) >> (1))))) & (1))) | (((((value) << (1))) & (2))));
-         fields->f_src32_rn_unprefixed_QI = value;
-@@ -2797,7 +2797,7 @@ m32c_cgen_extract_operand (CGEN_CPU_DESC
-       break;
-     case M32C_OPERAND_SRC32RNUNPREFIXEDSI :
-       {
--        long value;
-+        long value = 0;
-         length = extract_normal (cd, ex_info, insn_value, 0, 0, 10, 2, 32, total_length, pc, & value);
-         value = ((value) - (2));
-         fields->f_src32_rn_unprefixed_SI = value;
---- binutils.orig/binutils/coffdump.c	2020-06-16 17:10:22.259564445 +0100
-+++ binutils-2.34.0/binutils/coffdump.c	2020-06-16 17:38:11.060608576 +0100
-@@ -456,7 +456,7 @@ coff_dump (struct coff_ofile *ptr)
-     dump_coff_section (ptr->sections + i);
- }
- 
--char * program_name;
-+extern char * program_name;
- 
- static void
- show_usage (FILE *file, int status)
---- binutils.orig/binutils/srconv.c	2020-06-16 17:10:22.251564474 +0100
-+++ binutils-2.34.0/binutils/srconv.c	2020-06-16 20:07:51.670025912 +0100
-@@ -492,6 +492,8 @@ wr_rl (struct coff_ofile *ptr ATTRIBUTE_
-       rl.addr = r->offset;
-       rl.bitloc = 0;
-       rl.flen = 32;		/* SH Specific.  */
-+      rl.dunno = 0;
-+      rl.symn = 0;
- 
-       /* What sort of reloc ? Look in the section to find out.  */
-       ref = r->symbol;
-@@ -1687,7 +1689,7 @@ prescan (struct coff_ofile *otree)
-     }
- }
- 
--char *program_name;
-+extern char *program_name;
- 
- ATTRIBUTE_NORETURN static void
- show_usage (FILE *ffile, int status)
---- binutils.orig/binutils/sysdump.c	2020-06-16 17:10:22.251564474 +0100
-+++ binutils-2.34.0/binutils/sysdump.c	2020-06-16 20:09:09.924753464 +0100
-@@ -633,7 +633,7 @@ module (void)
-     }
- }
- 
--char *program_name;
-+extern char *program_name;
- 
- ATTRIBUTE_NORETURN static void
- show_usage (FILE *ffile, int status)
-- 
2.26.2

